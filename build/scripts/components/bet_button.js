define(["lib/react","lib/clib","components/payout"],function(e,t,n){var r=500,i=e.DOM;return e.createClass({displayName:"BetButton",propTypes:{engine:e.PropTypes.object.isRequired,invalidBet:e.PropTypes.func.isRequired,placeBet:e.PropTypes.func.isRequired},getInitialState:function(){return{initialDisable:!0}},componentDidMount:function(){var e=this;setTimeout(function(){e.isMounted()&&e.setState({initialDisable:!1})},r)},getSendingBet:function(){var e;return this.props.engine.gameState!=="STARTING"&&(e=i.a({onClick:this.props.engine.cancelBet.bind(this.props.engine)},"cancel")),i.span(null,"Sending bet...",e)},render:function(){var e=this;if(this.props.engine.isBetting()){var n=this.props.engine.nextAutoCashout,r;this.props.engine.nextBetAmount&&(r=t.formatSatoshis(this.props.engine.nextBetAmount,0)+" "+t.grammarBits(this.props.engine.nextBetAmount));var s=null;return n&&(s=" with auto cash-out at "+n/100+"x"),i.div({className:"cash-out"},i.a({className:"big-button-disable unclick"},"Betting ",r,s),i.div({className:"cancel"},this.getSendingBet()))}if(this.state.initialDisable)return i.div({className:"bet-button-container"},i.a({className:"big-button-disable unclick unselect"},"Place Bet!"),o?i.div({className:"invalid cancel"},o):null);var o=this.props.invalidBet(),u;return o||this.props.engine.placingBet?(u=i.a({className:"big-button-disable unclick unselect"},"Place Bet!"),i.div({className:"bet-button-container"},u,o?i.div({className:"invalid cancel"},o):null)):(u=i.a({className:"big-button unselect"},"Place Bet!"),i.div({className:"bet-button-container",onClick:e.props.placeBet},u,o?i.div({className:"invalid cancel"},o):null))}})});