define(["lib/clib"],function(e){return function(t){return console.assert(t),function(n){var r=t.baseBet*100,i=r,s=Number(t.onLossIncreaseQty),o=Number(t.onWinIncreaseQty),u=Number(t.autoCashAt);console.assert(e.isNumber(u)),n.on("game_starting",function(){var a=n.lastGamePlay();a=="LOST"?t.onLossSelectedOpt=="return_to_base"?i=r:(console.assert(e.isNumber(s)),i*=s):a=="WON"&&(t.onWinSelectedOpt=="return_to_base"?i=r:(console.assert(e.isNumber(o)),i*=o));var f=Math.round(i/100)*100;f>0&&f<=n.getBalance()&&f<=n.getMaxBet()?n.placeBet(f,u*100,!1):(n.stop(),console.log("You ran out of bits or exceeded the max bet or betting nothing :("))})}}});