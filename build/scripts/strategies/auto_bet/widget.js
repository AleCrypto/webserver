define(["lib/react","lib/react-radio"],function(e,t){var n=e.DOM;return e.createClass({displayName:"AutoBetWidget",propTypes:{strategyController:e.PropTypes.object.isRequired},controller:function(){return this.props.strategyController},getState:function(){var e=this.controller().getWidgetState();return e.active=this.controller().getEditorState(),e},getInitialState:function(){return this.getState()},componentDidMount:function(){this.controller().on("widget_change",this.onChange)},componentWillUnmount:function(){this.controller().off("widget_change",this.onChange)},onChange:function(){this.setState(this.getState())},updateOnLoss:function(e){this.controller().setWidgetState("onLossSelectedOpt",e)},updateOnWin:function(e){this.controller().setWidgetState("onWinSelectedOpt",e)},updateBetAmount:function(){var e=this.refs.bet_amount.getDOMNode().value;this.controller().setWidgetState("baseBet",e)},updateAutoCashAt:function(){var e=this.refs.auto_cash_at.getDOMNode().value;this.controller().setWidgetState("autoCashAt",e)},updateOnLossQty:function(){var e=this.refs.onLossQty.getDOMNode().value;this.controller().setWidgetState("onLossIncreaseQty",e)},updateOnWinQty:function(){var e=this.refs.onWinQty.getDOMNode().value;this.controller().setWidgetState("onWinIncreaseQty",e)},render:function(){return n.div({className:"widget-container"},n.div({className:"stra-base-bet"},n.span({className:"widget-title"},"Base Bet: "),n.input({type:"text",ref:"bet_amount",onChange:this.updateBetAmount,value:this.state.baseBet,disabled:this.state.active}),n.span(null,"Bits")),n.div({className:"stra-cash-out-at"},n.span({className:"widget-title"},"Auto Cashout at:"),n.input({type:"text",ref:"auto_cash_at",onChange:this.updateAutoCashAt,value:this.state.autoCashAt,disabled:this.state.active}),n.span(null,"x")),n.div({className:"stra-on-loss"},n.span({className:"widget-title"},"On loss:"),t({name:"onLoss",onChange:this.updateOnLoss,defaultValue:this.state.onLossSelectedOpt},n.input({type:"radio",className:"stra-on-loss-return-to-base-radio",value:"return_to_base",disabled:this.state.active},n.span(null,"Return to base bet"),n.br()),n.input({type:"radio",className:"stra-on-loss-increase-bet-by",value:"increase_bet_by",disabled:this.state.active},n.span(null,"Increase bet by: "),n.input({type:"text",ref:"onLossQty",onChange:this.updateOnLossQty,value:this.state.onLossIncreaseQty,disabled:this.state.active||this.state.onLossSelectedOpt!="increase_bet_by"}),n.span(null,"x")))),n.div({className:"stra-on-win"},n.span({className:"widget-title"},"On win:"),t({name:"onWin",onChange:this.updateOnWin,defaultValue:this.state.onWinSelectedOpt},n.input({type:"radio",className:"stra-on-win-return-to-base-radio",value:"return_to_base",disabled:this.state.active},n.span(null,"Return to base bet"),n.br()),n.input({type:"radio",className:"stra-on-win-increase_bet_by",value:"increase_bet_by",disabled:this.state.active},n.span(null,"Increase bet by: "),n.input({type:"text",ref:"onWinQty",onChange:this.updateOnWinQty,value:this.state.onWinIncreaseQty,disabled:this.state.active||this.state.onWinSelectedOpt!="increase_bet_by"}),n.span(null,"x")))))}})});