define(["lib/react","lib/clib"],function(e,t){var n=e.DOM,r=10;return e.createClass({displayName:"gamesLog",propTypes:{engine:e.PropTypes.object.isRequired},gameDetails:function(e){return function(){window.open("/game/"+e,"_blank")}},render:function(){var e=this,i=e.props.engine.tableHistory.slice(0,r).map(function(r,i){var s,o,u,a,f=r.player_info[e.props.engine.username];return f?(a=f.bonus,o=f.bet,f.stopped_at?(u=f.stopped_at/100*f.bet-f.bet,s=t.formatSatoshis(f.stopped_at)):(u=-o,s="-"),a?(u+=a,a=t.formatDecimals(a*100/o,2)+"%"):a="0%",u=t.formatSatoshis(u),o=t.formatSatoshis(o)):(s="-",o="-",u="-",a="-"),n.tr({key:"game_"+i,onClick:e.gameDetails(r.game_id)},n.td(null,t.formatSatoshis(r.game_crash),n.i(null,"x")),n.td(null,s),n.td(null,o),n.td(null,a),n.td(null,u))});return n.table({className:"games-log"},n.thead(null,n.tr(null,n.th(null,"Crash"),n.th(null,"@"),n.th(null,"Bet"),n.th(null,"Bonus"),n.th(null,"Profit"))),n.tbody(null,i))}})});