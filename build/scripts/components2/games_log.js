define(["lib/react","lib/clib"],function(e,t){var n=e.DOM,r=10;return e.createClass({displayName:"gamesLog",propTypes:{engine:e.PropTypes.object.isRequired},gameDetails:function(e){return function(){window.open("/game/"+e,"_blank")}},render:function(){var e=this,i=e.props.engine.tableHistory.slice(0,r).map(function(r,i){var s,o,u,a=r.player_info[e.props.engine.username];return a?(o=t.formatSatoshis(a.bet),a.stopped_at?(u=t.formatSatoshis(a.stopped_at/100*a.bet-a.bet),s=t.formatSatoshis(a.stopped_at)):(u=t.formatSatoshis(-a.bet),s="-"),a.bonus&&(u=u+" (+"+t.formatSatoshis(a.bonus)+")")):(s="-",o="-",u="-"),n.tr({key:"game_"+i,onClick:e.gameDetails(r.game_id)},n.td(null,t.formatSatoshis(r.game_crash),n.i(null,"x")),n.td(null,s),n.td(null,o),n.td(null,u))});return n.table({className:"games-log"},n.thead(null,n.tr(null,n.th(null,"Crash"),n.th(null,"@"),n.th(null,"Bet"),n.th(null,"Profit"))),n.tbody(null,i))}})});