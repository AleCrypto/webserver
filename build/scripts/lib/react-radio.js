define(["lib/react"],function(e){var t=e.DOM;return e.createClass({displayName:"reactRadio",propTypes:{name:e.PropTypes.string.isRequired,value:e.PropTypes.string,defaultValue:e.PropTypes.string,onChange:e.PropTypes.func.isRequired},componentDidMount:function(){this.update()},componentDidUpdate:function(){},update:function(){this.props.defaultValue&&!this.props.value&&this.setSelectedRadio(this.props.defaultValue)},change:function(){this.props.value||this.props.onChange(this.getSelectedRadio())},getSelectedRadio:function(){var e=this.getRadios();for(var t=0,n=e.length;t<n;t++)if(e[t].checked)return e[t].value;return null},setSelectedRadio:function(e){var t=this.getRadios();for(var n=0,r=t.length;n<r;n++)t[n].value==e&&(t[n].checked=!0)},getRadios:function(){return this.getDOMNode().querySelectorAll('input[type="radio"]')},render:function(){var n=this;return t.div({onChange:this.change},e.Children.map(this.props.children,function(t){var r={name:n.props.name};return t.props.children&&e.Children.map(t.props.children,function(e){if(e.props.onChange)var t=e.props.onChange;_.extend(e.props,{onChange:function(e){e.stopPropagation(),t&&t()}})}),n.props.value&&(t.props.value!==n.props.value?r.disabled=!0:(r.checked=!0,r.readOnly=!0)),_.extend(t.props,r),t}))}})});